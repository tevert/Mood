@model IEnumerable<Mood.Models.Survey>
<div class="row">
    @foreach (var survey in Model)
    {
        <div class="panel panel-default">
            <div class="panel-heading"><h4><a href="@Url.Action("Get", "Survey", new { Id = survey.Identifer })">@survey.Description</a></h4></div>
            <div class="panel-body">
                <div class="col-md-1">
                    <a class="btn btn-default" href="@Url.Action("Results", "Survey", new { Id = survey.Identifer })"><span class="glyphicon glyphicon-signal"></span> Results</a>
                </div>
                <div class="col-md-7">
                    @using (Html.BeginForm("Name", "Survey", new { Id = survey.Identifer }, FormMethod.Post, new { }))
                    {
                        <div class="input-group">
                            <span class="input-group-addon">@Url.Action("Get", "Survey", null, Request.Url.Scheme)/</span>
                            @Html.TextBox("newName", survey.Identifer, new { @class = "form-control" })
                            <span class="input-group-btn">
                                <button type="submit" class="btn btn-default"><span class="glyphicon glyphicon-floppy-save"></span></button>
                                <button type="button" class="btn btn-default"
                                        onclick="copyToClipboard('@Url.Action("Get", "Survey", new { Id = survey.Identifer }, Request.Url.Scheme)')">
                                    <span class="glyphicon glyphicon-copy"></span>
                                </button>
                            </span>
                        </div>
                    }
                </div>
                <div class="col-md-1 col-md-offset-3">
                    <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#confimDelete@(survey.Identifer)"><span class="glyphicon glyphicon-trash"></span> Delete</button>
                </div>
            </div>
        </div>
    }
    @using (Html.BeginForm("Create", "Survey"))
    {
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>New Survey</h4>
            </div>
            <div class="panel-body">
                <div class="col-md-3">
                    @Html.TextBox("description", "How is your workday going?", new { @class = "form-control" })
                </div>
                <div class="col-md-2">
                    <button type="submit" value="" class="btn btn-success glyphicon glyphicon-plus" />
                </div>
            </div>
        </div>
    }
</div>



@foreach (var survey in Model)
{
<div id="confimDelete@(survey.Identifer)" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div classs="modal-header">
                <h3>Are you sure you want to delete survey "@(survey.Description)"?</h3>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                @Html.ActionLink("Delete", "Delete", "Survey", new { id = survey.Identifer }, new { @class = "btn btn-danger" })
            </div>
        </div>
    </div>
</div>
}